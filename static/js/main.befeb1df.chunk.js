(this["webpackJsonpmake-my-stay"]=this["webpackJsonpmake-my-stay"]||[]).push([[0],{27:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(18),s=n.n(r),o=n(6),i=(n(43),n(44),n(34)),l=n(3),u=n(32),d=n(5),j=n(29),m=n(31),b=n(30),h="guest",p="host",O="PENDING",g="APPROVED",_="REJECTED",v=(n(27),n(12)),x=n.n(v),f=n(10),y=n(33),I=n(15),N=function(e){return new Promise((function(t,n){setTimeout((function(){t(e)}),1e3)}))},w=[{_propertyId:"p1",_hostId:"u2",name:"Nature Stay",price:4500,category:{_categoryId:"t1",name:"Cottage"},location:{cordinates:{latitude:"",longitude:""},city:{_cityId:"c1",name:"Shimla"},state:{_stateId:"s1",name:"Himachal Pradesh"},country:{_countryId:"cnt1",name:"India"},pinCode:"123456",address:"Plot 123, Mall Road, Shimla",howToReach:"located on a 2-kilometer adventurous rugged village road"},description:"lorem ipsum",facilities:{parking:!0,wifi:!0,cableTv:!1,breakfast:!0,securityCamera:!0,kitchen:!0,iron:!0},reviews:{cleanliness:4,communication:4,location:5,food:4.5,overall:4.5},comments:[{_guestId:"g1",postedOn:"March 25, 2020",comment:"great"},{_guestId:"g1",postedOn:"March 25, 2020",comment:"great"},{_guestId:"g1",postedOn:"March 25, 2020",comment:"great"},{_guestId:"g1",postedOn:"March 25, 2020",comment:"great"}]},{_propertyId:"p2",_hostId:"u2",name:"Pine Homes",price:3500,category:{_categoryId:"t1",name:"Cottage"},location:{cordinates:{latitude:"",longitude:""},city:{_cityId:"c1",name:"Shimla"},state:{_stateId:"s1",name:"Himachal Pradesh"},country:{_countryId:"cnt1",name:"India"},pinCode:"123456",address:"Plot 123, Mall Road, Shimla",howToReach:"located on a 2-kilometer adventurous rugged village road"},description:"lorem ipsum",facilities:{parking:!0,wifi:!0,cableTv:!1,breakfast:!0,securityCamera:!0,kitchen:!0,iron:!0},reviews:{cleanliness:4,communication:4,location:5,food:4.5,overall:4.5},comments:[{_guestId:"g1",postedOn:"March 25, 2020",comment:"great"},{_guestId:"g1",postedOn:"March 25, 2020",comment:"great"},{_guestId:"g1",postedOn:"March 25, 2020",comment:"great"},{_guestId:"g1",postedOn:"March 25, 2020",comment:"great"}]},{_propertyId:"p3",_hostId:"u2",name:"Olive Greens",price:5500,category:{_categoryId:"t1",name:"Cottage"},location:{cordinates:{latitude:"",longitude:""},city:{_cityId:"c1",name:"Shimla"},state:{_stateId:"s1",name:"Himachal Pradesh"},country:{_countryId:"cnt1",name:"India"},pinCode:"123456",address:"Plot 123, Mall Road, Shimla",howToReach:"located on a 2-kilometer adventurous rugged village road"},description:"lorem ipsum",facilities:{parking:!0,wifi:!0,cableTv:!1,breakfast:!0,securityCamera:!0,kitchen:!0,iron:!0},reviews:{cleanliness:4,communication:4,location:5,food:4.5,overall:4.5},comments:[{_guestId:"g1",postedOn:"March 25, 2020",comment:"great"},{_guestId:"g1",postedOn:"March 25, 2020",comment:"great"},{_guestId:"g1",postedOn:"March 25, 2020",comment:"great"},{_guestId:"g1",postedOn:"March 25, 2020",comment:"great"}]},{_propertyId:"p4",_hostId:"u3",name:"Geranium Cottage",price:5e3,category:{_categoryId:"t1",name:"Cottage"},location:{cordinates:{latitude:"",longitude:""},city:{_cityId:"c1",name:"Shimla"},state:{_stateId:"s1",name:"Himachal Pradesh"},country:{_countryId:"cnt1",name:"India"},pinCode:"123456",address:"Plot 123, Mall Road, Shimla",howToReach:"located on a 2-kilometer adventurous rugged village road"},description:"lorem ipsum",facilities:{parking:!0,wifi:!0,cableTv:!1,breakfast:!0,securityCamera:!0,kitchen:!0,iron:!0},reviews:{cleanliness:4,communication:4,location:5,food:4.5,overall:4.5},comments:[{_guestId:"g1",postedOn:"March 25, 2020",comment:"great"},{_guestId:"g1",postedOn:"March 25, 2020",comment:"great"},{_guestId:"g1",postedOn:"March 25, 2020",comment:"great"},{_guestId:"g1",postedOn:"March 25, 2020",comment:"great"}]}],k=function(e){var t=w.find((function(t){return t._propertyId===e}));return N(t||null)},S=function(e){var t=w.filter((function(t){return t._hostId===e}));return N(t)},C=function(){var e=Object(I.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:return n=e.sent,e.abrupt("return",n._hostId);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P="BOOKING_REQUESTS",L=function(){var e=Object(I.a)(x.a.mark((function e(t){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=JSON.parse(window.localStorage.getItem(P)))||(n=[]),e.next=4,C(t._propertyId);case 4:return c=e.sent,window.localStorage.setItem(P,JSON.stringify([].concat(Object(y.a)(n),[Object(f.a)(Object(f.a)({},t),{},{_requestId:n.length,_hostId:c,state:O})]))),e.abrupt("return",N(n.length));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){var t=JSON.parse(window.localStorage.getItem(P));t||(t=[]);var n=t.filter((function(t){return t._hostId===e}));return N(n)},B=(n(46),n(1)),F=function(e){var t=e.size,n="small"===t||"medium"===t||"large"===t?t:"small";return Object(B.jsx)("div",{className:"Loader Loader__".concat(n)})},T=(n(48),function(e){var t=e.label,n=e.action;return Object(B.jsx)("div",{onClick:n,className:"LinkButton",children:t})}),q=function(e){var t=e.request,n=e.refreshList,a=Object(c.useState)(!1),r=Object(d.a)(a,2),s=r[0],o=r[1],i=function(e){o(!0),function(e,t){var n=JSON.parse(window.localStorage.getItem(P));n||(n=[]);var c=n.findIndex((function(t){return t._requestId===e}));return-1!==c?(n[c].state=t,window.localStorage.setItem(P,JSON.stringify(n)),N(t)):N(null)}(t._requestId,e).then((function(e){console.log(e),n()})).catch((function(e){console.log(e)})).finally((function(){o(!1)}))};return Object(B.jsxs)("div",{className:"BookingRequestItem",children:[Object(B.jsxs)("div",{className:"BookingRequestItem__container",children:[Object(B.jsxs)("div",{className:"BookingRequestItem__details",children:[Object(B.jsxs)("div",{children:["You have received a request from ",t.guestName]}),Object(B.jsxs)("div",{className:"BookingRequestItem__detailsData",children:[Object(B.jsxs)("div",{className:"BookingRequestItem__deatilsItem",children:[Object(B.jsx)("div",{children:"Dates"}),Object(B.jsxs)("div",{children:[t.checkIn,"-",t.checkOut]})]}),Object(B.jsxs)("div",{className:"BookingRequestItem__deatilsItem",children:[Object(B.jsx)("div",{children:"Guests"}),Object(B.jsx)("div",{children:t.guestCount})]}),Object(B.jsxs)("div",{className:"BookingRequestItem__deatilsItem",children:[Object(B.jsx)("div",{children:"Rooms"}),Object(B.jsx)("div",{children:t.roomCount})]})]}),t.message.length?Object(B.jsxs)("div",{children:[Object(B.jsxs)("div",{children:[t.guestName," has a message for you -"]}),Object(B.jsx)("div",{className:"BookingRequestItem__messageText",children:t.message})]}):null]}),Object(B.jsxs)("div",{className:"BookingRequestItem__property",children:[Object(B.jsx)("img",{src:"https://via.placeholder.com/140?text=".concat(t.propertyName),alt:"property_image"}),t.propertyName]})]}),Object(B.jsx)("div",{className:"BookingRequestItem__state",children:t.state===O?s?Object(B.jsx)(F,{}):Object(B.jsxs)("div",{className:"BookingRequestItem__actions",children:[Object(B.jsx)(T,{label:"Approve",action:function(){return i(g)}}),Object(B.jsx)(T,{label:"Reject",action:function(){return i(_)}})]}):Object(B.jsx)("div",{className:t.state===g?"BookingRequestItem__stateAccept":"BookingRequestItem__stateReject",children:t.state})})]})},E=Object(l.i)(Object(o.b)((function(e){return{user:e.auth.user}}))((function(e){var t=e.user,n=Object(c.useState)(!1),a=Object(d.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)([]),i=Object(d.a)(o,2),l=i[0],u=i[1];Object(c.useEffect)((function(){t&&j()}),[]);var j=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&s(!0),R(t._userId).then((function(e){console.log(e),u(e)})).catch((function(e){console.log(e)})).finally((function(){s(!1)}))};return Object(B.jsx)("div",{className:"BookingRequestsList",children:r?Object(B.jsx)("div",{className:"BookingRequestsList__loader",children:Object(B.jsx)(F,{})}):0===l.length?Object(B.jsx)("div",{children:"No requests found"}):l.map((function(e){return Object(B.jsx)(q,{request:e,refreshList:function(){return j(!1)}},e._requestId)}))})}))),D=(n(50),n(51),Object(l.i)((function(e){var t=e.property,n=Object(l.h)().propertyId,a=Object(l.g)(),r=Object(c.useState)(t),s=Object(d.a)(r,2),o=s[0],i=s[1];o||n?o||k(n).then((function(e){if(!e)throw new Error("Property not found");i(e)})).catch((function(e){console.log(e),a.push("/properties")})):a.push("/properties");var u,j;return Object(B.jsx)("div",{className:"PropertyView",children:o?Object(B.jsxs)("div",{className:"PropertyView__content",children:[Object(B.jsx)("img",{src:"https://via.placeholder.com/458x280?text=".concat(o.name),alt:"property_image"}),Object(B.jsxs)("div",{className:"PropertyView__details",children:[Object(B.jsxs)("div",{className:"PropertyView__highlight",children:[Object(B.jsxs)("div",{className:"PropertyView__title",children:[Object(B.jsx)("span",{className:"PropertyView__name",children:o.name}),Object(B.jsx)("span",{className:"PropertyView__type",children:o.category.name})]}),Object(B.jsx)("div",{children:o.location.address}),Object(B.jsxs)("div",{children:["Ratings: ",o.reviews.overall]})]}),Object(B.jsxs)("div",{className:"PropertyView__price",children:["Price - \u20b9 ",o.price,"/night"]})]}),Object(B.jsx)("div",{className:"PropertyView__description",children:o.description}),Object(B.jsxs)("div",{className:"PropertyView__howToReach",children:[Object(B.jsx)("label",{className:"PropertyView__label",children:"How to reach? "}),o.location.howToReach]}),Object(B.jsxs)("div",{className:"PropertyView__facilities",children:[Object(B.jsx)("label",{className:"PropertyView__label",children:"Facilities "}),(j=o.facilities,Object.keys(j).filter((function(e){return j[e]})).map((function(e,t){return Object(B.jsx)("div",{children:e},t)})))]}),Object(B.jsxs)("div",{className:"PropertyView__reviews",children:[Object(B.jsx)("label",{className:"PropertyView__label",children:"Reviews "}),(u=o.reviews,Object.keys(u).map((function(e,t){return Object(B.jsxs)("div",{children:[e,": ",u[e]]},t)})))]})]}):Object(B.jsx)("div",{className:"PropertyView__loader",children:Object(B.jsx)(F,{})})})}))),M=(n(52),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Date(e),c=""+(n.getMonth()+1),a=""+(n.getDate()+t),r=n.getFullYear();return c.length<2&&(c="0"+c),a.length<2&&(a="0"+a),[r,c,a].join("-")}),G=function(e){var t=e.label,n=e.name,c=e.date,r=e.onDateChange;return Object(B.jsxs)(a.a.Fragment,{children:[Object(B.jsx)("label",{children:t}),Object(B.jsx)("input",{name:n,type:"date",value:c,onChange:function(e){return r(e.target.value)},className:"DateInput",min:c})]})},V=function(e){var t=e.label,n=e.name,c=e.number,r=e.onNumberChange,s=e.max;return Object(B.jsxs)(a.a.Fragment,{children:[Object(B.jsx)("label",{children:t}),Object(B.jsx)("input",{name:n,type:"number",value:c,onChange:function(e){return r(e.target.value)},className:"NumberInput",min:1,max:s})]})},H=(n(53),function(e){var t=e.label,n=e.name,c=e.text,r=e.onTextChange,s=e.rows,o=void 0===s?1:s;return Object(B.jsxs)(a.a.Fragment,{children:[Object(B.jsx)("label",{children:t}),Object(B.jsx)("textarea",{name:n,placeholder:t,type:"text",value:c,onChange:function(e){return r(e.target.value)},className:"TextArea",rows:o})]})}),A=function(e){var t=e.createBookingRequest,n=e.isLoading,a=e.isBooked,r=M(new Date),s=M(new Date,1),o=Object(c.useState)(r),i=Object(d.a)(o,2),l=i[0],u=i[1],j=Object(c.useState)(s),m=Object(d.a)(j,2),b=m[0],h=m[1],p=Object(c.useState)(1),O=Object(d.a)(p,2),g=O[0],_=O[1],v=Object(c.useState)(1),x=Object(d.a)(v,2),f=x[0],y=x[1],I=Object(c.useState)(""),N=Object(d.a)(I,2),w=N[0],k=N[1],S=function(){t({checkIn:l,checkOut:b,guestCount:g,roomCount:f,message:w})};return Object(B.jsxs)("div",{className:"BookingForm",children:[Object(B.jsxs)("div",{className:"BookingForm__dateInputs",children:[Object(B.jsx)("div",{children:Object(B.jsx)(G,{label:"Check In: ",date:l,onDateChange:u,name:"checkInDate"})}),Object(B.jsx)("div",{children:Object(B.jsx)(G,{label:"Check Out: ",date:b,onDateChange:h,name:"checkOutDate"})})]}),Object(B.jsxs)("div",{className:"BookingForm__countInputs",children:[Object(B.jsx)("div",{children:Object(B.jsx)(V,{label:"Guests: ",number:g,onNumberChange:_,name:"guestCount",max:10})}),Object(B.jsx)("div",{children:Object(B.jsx)(V,{label:"Rooms: ",number:f,onNumberChange:y,name:"roomCount",max:10})})]}),Object(B.jsx)("div",{className:"BookingForm__messageInput",children:Object(B.jsx)(H,{label:"Message: ",text:w,onTextChange:k,name:"message",rows:5})}),n?Object(B.jsx)("div",{className:"BookingForm__loader",children:Object(B.jsx)(F,{})}):a?Object(B.jsx)("div",{className:"BookingForm__status",children:"Your request has been submitted."}):Object(B.jsx)("button",{className:"BookingForm__bookNowButton",onClick:S,children:"Request to book"})]})},U=Object(l.i)(Object(o.b)((function(e){return{user:e.auth.user}}))((function(e){var t=e.location,n=e.history,a=e.user,r=Object(c.useState)(!1),s=Object(d.a)(r,2),o=s[0],i=s[1],l=Object(c.useState)(!1),u=Object(d.a)(l,2),j=u[0],m=u[1],b=t.state?t.state.property:null;b&&a||n.push("/properties");return Object(B.jsxs)("div",{className:"Booking",children:[Object(B.jsx)("div",{className:"Booking__form",children:Object(B.jsx)(A,{createBookingRequest:function(e){i(!0);var t=Object(f.a)(Object(f.a)({},e),{},{_propertyId:b._propertyId,_guestId:a._userId,guestName:a.username,propertyName:b.name});L(t).then((function(e){console.log(e),i(!1),m(!0)})).catch((function(e){console.log(e),i(!1)}))},isLoading:o,isBooked:j})}),Object(B.jsx)("div",{className:"Booking__propertyDetails",children:Object(B.jsx)(D,{property:b})})]})}))),J=(n(54),[{_userId:"u1",type:"guest",username:"John"},{_userId:"u2",type:"host",username:"David"}]),z="LOGGED_IN_USER",X=function(e){return window.localStorage.setItem(z,e)},Y="LOGIN_USER",K="LOGOUT_USER",Q=(n(55),Object(o.b)(null,(function(e){return{_loginUser:function(t){return e(function(e){return{type:Y,user:e}}(t))}}}))((function(e){var t=e._loginUser,n=Object(c.useState)(!1),a=Object(d.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(!1),i=Object(d.a)(o,2),u=i[0],j=i[1],m=Object(c.useState)(!0),b=Object(d.a)(m,2),O=b[0],g=b[1],_=Object(c.useState)(""),v=Object(d.a)(_,2),x=v[0],y=v[1],I=Object(c.useState)(""),w=Object(d.a)(I,2),k=w[0],S=w[1],C=Object(l.g)();return Object(B.jsxs)("div",{className:"LoginForm",children:[Object(B.jsxs)("div",{className:"LoginForm__userTypeToggle",children:[Object(B.jsx)("div",{className:O?"LoginForm__activeToggle":"LoginForm__inActiveToggle",onClick:function(){return g(!0)},children:"Guest"}),Object(B.jsx)("div",{className:O?"LoginForm__inActiveToggle":"LoginForm__activeToggle",onClick:function(){return g(!1)},children:"Host"})]}),Object(B.jsx)("div",{className:"LoginForm__error",children:u?Object(B.jsx)("span",{children:"Invalid Credentials. Try Again."}):null}),Object(B.jsxs)("div",{className:"LoginForm__inputGroup",children:[x.length>0?Object(B.jsx)("label",{className:"LoginForm__inputLabel",children:"Username"}):null,Object(B.jsx)("input",{id:"username",placeholder:"Username",type:"text",className:"LoginForm__inputControl",value:x,onChange:function(e){return y(e.target.value)}}),k.length>0?Object(B.jsx)("label",{className:"LoginForm__inputLabel",children:"Password"}):null,Object(B.jsx)("input",{placeholder:"Password",type:"password",className:"LoginForm__inputControl",value:k,onChange:function(e){return S(e.target.value)}})]}),r?Object(B.jsx)("div",{className:"LoginForm__loader",children:Object(B.jsx)(F,{})}):Object(B.jsxs)("button",{className:"LoginForm__loginButton",onClick:function(){x.length&&k.length&&(s(!0),function(e){var t=J.find((function(t){return t.username===e.username&&t.type===e.type}));return t?(X(t._userId),N(t)):N(null)}({username:x,password:k,type:O?"guest":"host"}).then((function(e){if(console.log(e),!e)throw j(!0),new Error("Invalid credentials!!");t(Object(f.a)(Object(f.a)({},e),{},{type:h===e.type?h:p})),C.push("/properties")})).catch((function(e){console.log(e),y(""),S(""),s(!1)})))},children:["Login as ",O?"Guest":"Host"]})]})}))),W=function(){return Object(B.jsx)("div",{className:"Home",children:Object(B.jsx)(Q,{})})},Z=(n(56),Object(o.b)((function(e){var t=e.auth;return{isUserGuest:!!t.user&&t.user.type===h}}),null)((function(e){var t=e.property,n=e.isUserGuest,c=Object(l.g)();return Object(B.jsxs)("div",{className:"PropertyListItem",children:[Object(B.jsx)("img",{src:"https://via.placeholder.com/150?text=".concat(t.name),alt:"property_image"}),Object(B.jsxs)("div",{className:"PropertyListItem__details",children:[Object(B.jsxs)("div",{className:"PropertyListItem__detailsData",children:[Object(B.jsxs)("span",{className:"PropertyListItem__detailSubHeader",children:[t.category.name," in ",t.location.city.name]}),Object(B.jsx)("span",{className:"PropertyListItem__detailHeader",children:t.name})]}),Object(B.jsxs)("div",{className:"PropertyListItem__actions",children:[n?Object(B.jsx)(T,{label:"Book Now",action:function(){c.push({pathname:"/bookings/new",state:{property:t}})}}):null,Object(B.jsx)("div",{style:{width:"40px"}}),Object(B.jsx)(T,{label:"View",action:function(){c.push("/properties/".concat(t._propertyId))}})]})]}),Object(B.jsxs)("div",{className:"PropertyListItem__ratings",children:[Object(B.jsxs)("div",{children:[Object(B.jsxs)("div",{children:["Ratings: ",t.reviews.overall]}),Object(B.jsxs)("div",{children:[t.comments.length," comments"]})]}),Object(B.jsxs)("div",{children:["Price - \u20b9 ",t.price,"/night"]})]})]})}))),$=Object(l.i)(Object(o.b)((function(e){return{user:e.auth.user}}))((function(e){var t=e.user,n=Object(c.useState)(!1),a=Object(d.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)([]),i=Object(d.a)(o,2),l=i[0],u=i[1];Object(c.useEffect)((function(){j()}),[]);var j=function(){var e=Object(I.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s(!0),e.prev=1,t.type!==p){e.next=8;break}return e.next=5,S(t._userId);case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,N(w);case 10:n=e.sent;case 11:u(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:s(!1);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}(),m=t.type===h?"".concat(l.length," properties listed near you -"):"You have ".concat(l.length," properties listed -");return Object(B.jsx)("div",{className:"PropertyList",children:r?Object(B.jsx)("div",{className:"PropertyList__loader",children:Object(B.jsx)(F,{})}):Object(B.jsxs)("div",{className:"PropertyList",children:[Object(B.jsx)("div",{className:"PropertyList__header",children:m}),l.map((function(e,t){return Object(B.jsx)(Z,{property:e},e._propertyId)}))]})})}))),ee=[{_viewId:0,title:"Properties",path:"/properties/:propertyId",component:D,authGuard:!0,canAccess:[p,h]},{_viewId:1,title:"Properties",path:"/properties",component:$,authGuard:!0,canAccess:[p,h]},{_viewId:2,title:"New Booking",path:"/bookings/new",component:U,authGuard:!0,canAccess:[h]},{_viewId:3,title:"All Requests",path:"/bookings",component:E,authGuard:!0,canAccess:[p]},{_viewId:4,title:"Home",path:"/",component:W,authGuard:!1,canAccess:[p,h]}],te=(n(57),Object(l.i)(Object(o.b)((function(e){return{user:e.auth.user}}),(function(e){return{_logoutUser:function(){return e({type:K})}}}))((function(e){var t=e._logoutUser,n=e.user,a=e.location,r=Object(l.g)(),s=Object(c.useState)(""),o=Object(d.a)(s,2),i=o[0],u=o[1];if(Object(c.useEffect)((function(){u(function(e){var t=ee.findIndex((function(t){return e.includes(t.path)}));return-1!==t?ee[t].title:null}(a.pathname))}),[]),!n)return null;return Object(B.jsxs)("div",{className:"Header",children:[Object(B.jsxs)("div",{children:[Object(B.jsx)("span",{className:"Header__back",onClick:function(){return r.goBack()},children:Object(B.jsx)(j.a,{size:24})}),Object(B.jsx)("span",{className:"Header__title",children:i})]}),Object(B.jsxs)("div",{children:[n.type===p?Object(B.jsx)("span",{className:"Header__actionButton",onClick:function(){r.push("/bookings")},children:Object(B.jsx)(b.a,{size:22})}):null,Object(B.jsx)("span",{className:"Header__actionButton",onClick:function(){window.localStorage.removeItem(z),t(),r.replace("/")},children:Object(B.jsx)(m.a,{size:24})})]})]})})))),ne=function(e){var t=e.component,n=Object(i.a)(e,["component"]);return Object(B.jsxs)(a.a.Fragment,{children:[Object(B.jsx)(te,{}),Object(B.jsx)("div",{className:"App_content",children:t(n)})]})},ce=Object(o.b)((function(e){return{user:e.auth.user}}))((function(e){var t=e.user,n=null!==t;return Object(B.jsx)(u.a,{children:Object(B.jsx)(l.d,{children:ee.map((function(e){var c=!!t&&e.canAccess.includes(t.type);return e.authGuard?function(e,t){return Object(B.jsx)(l.b,{path:t.path,render:function(n){var c=n.location;return e?Object(B.jsx)(ne,{component:t.component}):Object(B.jsx)(l.a,{to:{pathname:"/",state:{from:c}}})}},t.path)}(n&&c,e):Object(B.jsx)(l.b,{path:e.path,component:e.component},e.path)}))})})}));var ae=function(){return Object(B.jsx)("div",{className:"App",children:Object(B.jsx)(ce,{})})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},se=n(14),oe={user:function(){var e=window.localStorage.getItem(z);return e?J.find((function(t){return t._userId===e})):null}()},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(f.a)(Object(f.a)({},e),{},{user:t.user});case K:return oe;default:return e}},le=Object(se.b)({auth:ie});var ue,de=(ue={auth:oe},Object(se.c)(le,ue,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));s.a.render(Object(B.jsx)(o.a,{store:de,children:Object(B.jsx)(ae,{})}),document.getElementById("root")),re()}},[[58,1,2]]]);
//# sourceMappingURL=main.befeb1df.chunk.js.map